- if @round_trip
  %frameset{ :rows => '*,50%', :frameborder => "0"}
    %frame{ :name => 'go_table', :src =>"search_go{\"search\"=>#{params[:search]}, \"date\"=>#{params[:date]}}"}/
    %frame{ :name => 'back_table', :src =>"search_back{\"search\"=>#{params[:search]}, \"date\"=>#{params[:date]}}"}/
    %noframes Sorry, your browser does not handle frames!

- else
  %body
    %nav.navbar.navbar-default{role: "navigation"}
      .container-fluid
        .navbar-header
          %button.navbar-toggle{"data-target" => "#bs-example-navbar-collapse-1", "data-toggle" => "collapse", type: "button"}
            %span.sr-only Toggle navigation
            %span.icon-bar
            %span.icon-bar
            %span.icon-bar
          %a.navbar-brand{href: "#"} BusRide
          
          .navbar-form.navbar-left.form-group
            = form_tag rides_search_path, :method => :post do
              = text_field :search, 'from_city',:id => 'from_search_box',:placeholder => 'From',:required => true,:onfocus => "javascript:initializeSourceCity();"
              = text_field :search, 'to_city',:id => 'to_search_box',:placeholder => 'To',:required => true,:onfocus => "javascript:initializeDestinationCity();"
              = text_field :date, 'from_Date',:id => 'from_datepicker',:placeholder => 'From date', :required => true,:readonly => 'readonly'
              = text_field :date, 'to_Date',:id => 'to_datepicker',:placeholder => 'Return date', :required => true,:readonly => 'readonly'
              = button_tag 'Search' , class: 'search-button' , type: :submit, :id => 'search'
    .container 
      Results:
      
      = paginate @rides

      %form{:action => rides_search_path, :method => "post"}
        %select{name: "perpage", onchange: "this.form.submit()"}
          %option Results per page
          %option{value: 5} 5
          %option{value: 10} 10
          %option{value: 20} 20
          %option{value: 255} All
        =link_to "back", rides_path, :target => "_parent"
      
      .table-responsive
        %table.table.table-hover.h4.table-striped
          %thead
            %tr
              %th Cost
              %th Depart
              %th Arrival
              %th URL
          %tbody
            - style = 0
            - @rides.map do |ride|
              - if style == 0
                - style = 1
                %tr
                  %td.lead
                    $
                    = ride.TRIP_COST
                  %td{ :class=>'depart_city'}
                    = ride.DEPART_CITY
                    %br
                    = ride.DEPART_TIME.strftime("%I:%M%p %a %b%d")
                  %td{ :class=>'arrive_city'}
                    = ride.ARRIVE_CITY
                    %br
                    = ride.ARRIVE_TIME.strftime("%I:%M%p %a %b%d")
                  %td
                    %a{href:"#{ride.URL}", :target => "_parent"}= ride.COMPANY_NAME
              - else
                - style = 0
                %tr{ :class=>'alt'}
                  %td.lead
                    $
                    = ride.TRIP_COST
                  %td{ :class=>'depart_city'}
                    = ride.DEPART_CITY
                    %br
                    = ride.DEPART_TIME.strftime("%I:%M%p %a %b%d")
                  %td{ :class=>'arrive_city'}
                    = ride.ARRIVE_CITY
                    %br
                    = ride.ARRIVE_TIME.strftime("%I:%M%p %a %b%d")
                  %td
                    %a{href:"#{ride.URL}", :target => "_parent"}= ride.COMPANY_NAME

